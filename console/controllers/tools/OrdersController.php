<?php/** * php ./yii tools/orders/get-json-bitrix 174787 * php ./yii tools/orders/get-json-kfss 174787 */namespace console\controllers\tools;use console\controllers\export\ExportController;use modules\shopandshow\models\shop\ShopOrder;/** * Class OrdersController * @package console\controllers */class OrdersController extends ExportController{    /**     * Получить json выгрузки в битрикс     * @param $orderId     */    public function actionGetJsonBitrix($orderId)    {        if ($order = ShopOrder::findOne($orderId)) {            $data = [                'entity' => 'register-order',                'data' => \Yii::$app->shopAndShow->getExportOrderBitrix($order),                'timestamp' => time(),            ];            var_dump(json_encode($data));        }    }    /**     * Получить json выгрузки в кфсс     * @param $orderId     */    public function actionGetJsonKfss($orderId)    {        if ($order = ShopOrder::findOne($orderId)) {            $data = [                'order-data' => \Yii::$app->shopAndShow->getExportOrder($order),                'position-data' => \Yii::$app->shopAndShow->getExportOrderPositions($order),            ];            var_dump(json_encode($data));        }    }}